<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Tu emprendimiento online - Productos de calidad en hogar, tecnolog√≠a, moda y m√°s. Env√≠os a toda Colombia." />
  <title>JUANDASANTIAGO | Tienda Online</title>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* --- Estilos previos optimizados y expandidos --- */
    * { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
    body { overflow-x: hidden; background: linear-gradient(135deg, #fdf9f9 0%, #fff5f7 100%); }
    
    /* === PROMO BAR === */
    .promo-bar {
      background: linear-gradient(90deg, #d4af37 0%, #f4d03f 50%, #d4af37 100%);
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
      position: relative;
      overflow: hidden;
    }
    @keyframes shimmer {
      0% { background-position: -200%; }
      100% { background-position: 200%; }
    }
    .promo-bar::after {
      content: '';
      position: absolute;
      top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: slide 2s infinite;
    }
    @keyframes slide {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    /* === MODAL === */
    .modal-overlay {
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.7);
      z-index: 3000;
      display: flex; align-items: center; justify-content: center;
      opacity: 0; visibility: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      padding: 20px;
    }
    .modal-overlay.active {
      opacity: 1; visibility: visible;
    }
    .modal-content {
      background: white; border-radius: 20px;
      max-width: 1000px; width: 100%; max-height: 90vh;
      overflow-y: auto; transform: scale(0.9) translateY(50px);
      transition: transform 0.3s ease;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    .modal-overlay.active .modal-content {
      transform: scale(1) translateY(0);
    }

    /* === ZOOM IMAGENES === */
    .image-zoom-container {
      position: relative; overflow: hidden; cursor: zoom-in;
    }
    .image-zoom-container img {
      transition: transform 0.3s ease;
    }
    .image-zoom-container:hover img {
      transform: scale(1.2);
    }
    .modal .image-zoom-container:hover img {
      transform: scale(1.5);
    }

    /* === VISTA TOGGLE === */
    .view-toggle {
      display: flex; gap: 8px;
      background: white; padding: 4px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 16px;
    }
    .view-toggle button {
      padding: 8px 16px; border-radius: 8px;
      transition: all 0.3s ease; font-weight: 600;
    }
    .view-toggle button.active {
      background: linear-gradient(135deg, #e64d8c 0%, #ca9ba3 100%);
      color: white;
    }

    /* === VISTAS DE PRODUCTOS === */
    .grid-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }
    .list-view {
      display: flex; flex-direction: column; gap: 16px;
    }
    .list-view .product-card {
      display: flex; flex-direction: row; max-width: 100%;
    }
    .list-view .product-card img {
      width: 200px; height: 200px; object-fit: cover;
    }
    .list-view .product-card > div:last-child {
      flex: 1;
      display: flex; flex-direction: column; justify-content: space-between;
    }

    /* === NOTIFICACIONES === */
    .notification {
      position: fixed; top: 100px; right: 20px;
      background: white; padding: 16px 20px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      z-index: 4000;
      display: flex; align-items: center; gap: 12px;
      min-width: 300px;
      opacity: 0; transform: translateX(400px);
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    .notification.show {
      opacity: 1; transform: translateX(0);
    }
    .notification.success { border-left: 4px solid #4caf50; }
    .notification.info { border-left: 4px solid #2196f3; }
    .notification.warning { border-left: 4px solid #ff9800; }

    /* === RECOMENDACIONES === */
    .related-products {
      background: linear-gradient(135deg, #fff5f7 0%, #fdf9f9 100%);
      padding: 40px 0; margin-top: 40px;
    }
    .recommendation-badge {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white; padding: 4px 12px; border-radius: 20px;
      font-size: 11px; font-weight: 700; display: inline-block;
      margin-bottom: 10px;
    }

    /* === HEADER Y SIDEBARS === */
    .header-fixed {
      position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
      background: linear-gradient(135deg, #ca9ba3 0%, #b87d8a 100%);
      box-shadow: 0 4px 12px rgba(227, 77, 140, 0.15);
      backdrop-filter: blur(10px); transition: all 0.3s ease;
    }
    .header-fixed.scrolled { box-shadow: 0 6px 20px rgba(227, 77, 140, 0.25); }

    .menu-sidebar, .cart-sidebar {
      position: fixed; top: 0; height: 100vh;
      background: white; z-index: 2000;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 4px 0 20px rgba(0,0,0,0.15);
      overflow-y: auto;
    }
    .menu-sidebar { left: -320px; width: 320px; }
    .menu-sidebar.active { left: 0; }
    .cart-sidebar { right: -420px; width: 420px; }
    .cart-sidebar.active { right: 0; }
    .menu-overlay {
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.6); z-index: 1999;
      opacity: 0; visibility: hidden;
      transition: all 0.3s ease;
    }
    .menu-overlay.active { opacity: 1; visibility: visible; }

    /* === SLIDER === */
    .slider {
      position: relative; overflow: hidden; height: 550px;
      border-radius: 0 0 30px 30px;
      box-shadow: 0 10px 40px rgba(227, 77, 140, 0.15);
    }
    .slide {
      position: absolute; width: 100%; height: 100%; opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    .slide.active { opacity: 1; }
    .slide img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.85); }
    .slide-overlay {
      position: absolute; inset: 0;
      background: linear-gradient(135deg, rgba(227, 77, 140, 0.3) 0%, rgba(202, 155, 163, 0.3) 100%);
    }
    .slider-dots {
      position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
      display: flex; gap: 12px; z-index: 10;
    }
    .dot {
      width: 14px; height: 14px; border-radius: 50%;
      background: rgba(255,255,255,0.4); cursor: pointer;
      transition: all 0.4s;
      border: 2px solid rgba(255,255,255,0.6);
    }
    .dot.active {
      background: white; width: 40px; border-radius: 8px;
      box-shadow: 0 4px 12px rgba(255,255,255,0.4);
    }

    /* === PRODUCT CARD === */
    .product-card {
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      cursor: pointer; position: relative; overflow: hidden;
    }
    .product-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 15px 40px rgba(227, 77, 140, 0.25);
    }
    .badge {
      position: absolute; top: 15px; right: 15px; padding: 6px 14px;
      border-radius: 25px; font-size: 11px; font-weight: 700; color: white;
      text-transform: uppercase; letter-spacing: 0.5px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 10;
      animation: pulse 2s infinite;
    }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    .badge-new { background: linear-gradient(135deg, #e64d8c 0%, #d4356f 100%); }
    .badge-sale { background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%); }

    /* === CHATBOT === */
    .chat-bot {
      position: fixed; bottom: 25px; right: 25px; width: 65px; height: 65px;
      border-radius: 50%; background: linear-gradient(135deg, #e64d8c 0%, #ca9ba3 100%);
      display: flex; align-items: center; justify-content: center; cursor: pointer;
      box-shadow: 0 6px 25px rgba(227, 77, 140, 0.5); z-index: 999;
      transition: all 0.4s;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .chat-bot:hover { transform: scale(1.15) rotate(10deg); }

    .chat-window {
      position: fixed; bottom: 105px; right: 25px; width: 380px; height: 520px;
      background: white; border-radius: 20px;
      box-shadow: 0 10px 50px rgba(0,0,0,0.25); z-index: 998;
      opacity: 0; visibility: hidden; transform: scale(0.9) translateY(20px);
      transition: all 0.4s;
    }
    .chat-window.active {
      opacity: 1; visibility: visible; transform: scale(1) translateY(0);
    }

    /* === TOAST === */
    .toast {
      position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
      background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
      color: white; padding: 16px 32px; border-radius: 50px; font-weight: 600;
      z-index: 3000; opacity: 0;
      transition: all 0.4s;
      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
      display: flex; align-items: center; gap: 10px;
    }
    .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

    /* === SCROLL TO TOP === */
    .scroll-to-top {
      position: fixed; bottom: 25px; left: 25px; width: 50px; height: 50px;
      background: linear-gradient(135deg, #ca9ba3 0%, #b87d8a 100%);
      border-radius: 50%; display: flex; align-items: center; justify-content: center;
      cursor: pointer; opacity: 0; visibility: hidden; transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(202, 155, 163, 0.4); z-index: 998;
    }
    .scroll-to-top.show { opacity: 1; visibility: visible; }

    /* === RESPONSIVE === */
    @media (max-width: 768px) {
      .cart-sidebar { width: 100%; right: -100%; }
      .slider { height: 350px; border-radius: 0 0 20px 20px; }
      .chat-window { width: calc(100% - 40px); right: 20px; }
      .menu-sidebar { width: 280px; }
    }
  </style>
</head>
<body class="bg-gray-50">

<!-- BARRA PROMOCIONAL -->
<div class="promo-bar text-center py-3 text-white font-bold text-sm md:text-base relative z-50">
  <i class="fas fa-gift mr-2"></i>
  <span id="promoText">üéâ ¬°ENV√çO GRATIS en compras mayores a $50.000! üöö</span>
</div>

<!-- CONTENEDOR DE NOTIFICACIONES -->
<div id="notificationContainer"></div>

<!-- TOAST -->
<div id="toast" class="toast">
  <i class="fas fa-check-circle"></i>
  <span>Producto agregado al carrito</span>
</div>

<!-- HEADER -->
<header class="header-fixed" id="header">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <div class="flex items-center gap-4">
      <button id="menuBtn" class="text-white text-2xl hover:scale-110 transition-transform" aria-label="Abrir men√∫">
        <i class="fas fa-bars"></i>
      </button>
      <div class="flex items-center gap-3">
        <img src="logo.png" alt="Logo" class="w-11 h-11 rounded-full object-cover shadow-lg">
        <span class="text-white font-bold text-xl hidden sm:block tracking-wide">JUANDASANTIAGO</span>
      </div>
    </div>
    <div class="flex-1 max-w-md mx-4 hidden md:block">
      <div class="relative">
        <input type="text" id="searchInput" placeholder="Buscar productos..."
          class="w-full px-4 py-2.5 rounded-full pl-11 focus:outline-none focus:ring-2 focus:ring-white/50 shadow-lg transition-all">
        <i class="fas fa-search absolute left-4 top-3.5 text-gray-400"></i>
      </div>
    </div>
    <button id="cartBtn" class="relative text-white text-2xl hover:scale-110 transition-transform" aria-label="Ver carrito">
      <i class="fas fa-shopping-cart"></i>
      <span id="cartCount" class="cart-badge absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg">0</span>
    </button>
  </div>
  <div class="md:hidden px-4 pb-3">
    <div class="relative">
      <input type="text" id="mobileSearchInput" placeholder="Buscar productos..."
        class="w-full px-4 py-2.5 rounded-full pl-11 focus:outline-none focus:ring-2 focus:ring-white/50 shadow-lg">
      <i class="fas fa-search absolute left-4 top-3.5 text-gray-400"></i>
    </div>
  </div>
</header>

<!-- MEN√ö LATERAL -->
<div class="menu-overlay" id="menuOverlay"></div>
<aside class="menu-sidebar" id="menuSidebar">
  <div class="p-6">
    <div class="flex items-center justify-between mb-8">
      <h2 class="text-2xl font-bold text-[#e64d8c]">Categor√≠as</h2>
      <button id="closeMenu" class="text-2xl text-gray-500 hover:text-[#e64d8c] transition-colors" aria-label="Cerrar men√∫">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <button class="w-full mb-4 bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all" data-category="">
      <i class="fas fa-home mr-2"></i> Ver Todos
    </button>
    <nav>
      <ul class="space-y-2">
        <!-- Categor√≠as aqu√≠ -->
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="hogar"><i class="fas fa-couch text-[#e64d8c] w-6 text-lg"></i><span>Hogar</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="tecnologia"><i class="fas fa-laptop text-[#e64d8c] w-6 text-lg"></i><span>Tecnolog√≠a</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="jugueteria"><i class="fas fa-gamepad text-[#e64d8c] w-6 text-lg"></i><span>Jugueter√≠a</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="deporte"><i class="fas fa-football-ball text-[#e64d8c] w-6 text-lg"></i><span>Deporte</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="moda"><i class="fas fa-tshirt text-[#e64d8c] w-6 text-lg"></i><span>Moda y Accesorios</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="bebe"><i class="fas fa-baby text-[#e64d8c] w-6 text-lg"></i><span>Beb√©</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="belleza"><i class="fas fa-spa text-[#e64d8c] w-6 text-lg"></i><span>Belleza</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="electrodomesticos"><i class="fas fa-blender text-[#e64d8c] w-6 text-lg"></i><span>Electrodom√©sticos</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="utiles"><i class="fas fa-pencil-alt text-[#e64d8c] w-6 text-lg"></i><span>√ötiles Escolares</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="ferreteria"><i class="fas fa-wrench text-[#e64d8c] w-6 text-lg"></i><span>Ferreter√≠a</span></a></li>
        <li><a href="#" class="category-link flex items-center gap-3 p-3 hover:bg-[#e64d8c]/10 rounded-lg transition-all" data-category="otras"><i class="fas fa-th text-[#e64d8c] w-6 text-lg"></i><span>Otras</span></a></li>
      </ul>
    </nav>
  </div>
</aside>

<!-- CARRITO LATERAL -->
<aside class="cart-sidebar" id="cartSidebar">
  <div class="h-full flex flex-col">
    <div class="p-6 bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-bold">Mi Carrito</h2>
          <p class="text-white/80 text-sm mt-1"><span id="cartItemCount">0</span> productos</p>
        </div>
        <button id="closeCart" class="text-2xl hover:scale-110 transition-transform" aria-label="Cerrar carrito">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <div id="cartItems" class="flex-1 overflow-y-auto p-6">
      <div class="text-center py-12">
        <i class="fas fa-shopping-cart empty-cart-icon"></i>
        <p class="text-gray-500 mt-4 text-lg">Tu carrito est√° vac√≠o</p>
        <p class="text-gray-400 text-sm mt-2">¬°Agrega productos para comenzar!</p>
      </div>
    </div>
    <div class="p-6 border-t bg-gray-50">
      <div class="space-y-3 mb-4">
        <div class="flex justify-between text-sm">
          <span class="text-gray-600">Subtotal:</span>
          <span class="font-semibold">$<span id="cartSubtotal">0</span></span>
        </div>
        <div class="flex justify-between text-sm">
          <span class="text-gray-600">Env√≠o:</span>
          <span class="font-semibold text-green-600">Gratis</span>
        </div>
        <div class="border-t pt-3 flex justify-between">
          <span class="font-bold text-lg">Total:</span>
          <span class="text-2xl font-bold text-[#e64d8c]">$<span id="cartTotal">0</span></span>
        </div>
      </div>
      <button id="clearCartBtn" class="w-full mb-3 bg-gray-200 text-gray-700 py-2.5 rounded-lg font-semibold hover:bg-gray-300 transition-all flex items-center justify-center gap-2">
        <i class="fas fa-trash-alt"></i> Vaciar Carrito
      </button>
      <button id="checkoutBtn" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3.5 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2">
        <i class="fab fa-whatsapp text-xl"></i> Comprar por WhatsApp
      </button>
    </div>
  </div>
</aside>

<!-- CONTENIDO PRINCIPAL -->
<main class="pt-32 md:pt-24">
  <!-- SLIDER -->
  <section class="slider mb-12">
    <div class="slide active">
      <div class="slide-overlay"></div>
      <img src="https://via.placeholder.com/1920x550/ca9ba3/ffffff?text=PROMOCIONES+ESPECIALES" alt="Promoci√≥n 1">
      <div class="absolute inset-0 flex items-center justify-center z-10">
        <div class="text-center text-white px-4">
          <h1 class="text-4xl md:text-6xl font-bold mb-4">¬°GRANDES OFERTAS!</h1>
          <p class="text-xl md:text-2xl mb-6">Hasta 50% de descuento</p>
          <button onclick="document.getElementById('productsSection').scrollIntoView({behavior:'smooth'})" class="bg-white text-[#e64d8c] px-8 py-3 rounded-full font-bold hover:shadow-xl transition-all hover:scale-105">
            Ver Productos
          </button>
        </div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-overlay"></div>
      <img src="https://via.placeholder.com/1920x550/b87d8a/ffffff?text=PRODUCTOS+DESTACADOS" alt="Promoci√≥n 2">
      <div class="absolute inset-0 flex items-center justify-center z-10">
        <div class="text-center text-white px-4">
          <h1 class="text-4xl md:text-6xl font-bold mb-4">PRODUCTOS DESTACADOS</h1>
          <p class="text-xl md:text-2xl mb-6">Lo mejor para ti y tu familia</p>
          <button onclick="document.getElementById('productsSection').scrollIntoView({behavior:'smooth'})" class="bg-white text-[#e64d8c] px-8 py-3 rounded-full font-bold hover:shadow-xl transition-all hover:scale-105">
            Explorar Ahora
          </button>
        </div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-overlay"></div>
      <img src="https://via.placeholder.com/1920x550/f093fb/ffffff?text=ENVIOS+GRATIS" alt="Promoci√≥n 3">
      <div class="absolute inset-0 flex items-center justify-center z-10">
        <div class="text-center text-white px-4">
          <h1 class="text-4xl md:text-6xl font-bold mb-4">ENV√çOS GRATIS</h1>
          <p class="text-xl md:text-2xl mb-6">En compras mayores a $50.000</p>
          <button onclick="document.getElementById('productsSection').scrollIntoView({behavior:'smooth'})" class="bg-white text-[#e64d8c] px-8 py-3 rounded-full font-bold hover:shadow-xl transition-all hover:scale-105">
            Comprar Ahora
          </button>
        </div>
      </div>
    </div>
    <div class="slider-dots">
      <span class="dot active" data-slide="0"></span>
      <span class="dot" data-slide="1"></span>
      <span class="dot" data-slide="2"></span>
    </div>
  </section>

  <!-- FILTROS -->
  <section class="container mx-auto px-4 mb-8">
    <div class="flex gap-3 overflow-x-auto pb-3" style="scrollbar-width: thin;">
      <button class="filter-chip active px-6 py-2.5 bg-white rounded-full font-semibold text-sm whitespace-nowrap border-2 border-[#e64d8c]" data-filter="">
        <i class="fas fa-star mr-1"></i> Todos
      </button>
      <button class="filter-chip px-6 py-2.5 bg-white rounded-full font-semibold text-sm whitespace-nowrap border-2 border-gray-200" data-filter="new">
        <i class="fas fa-sparkles mr-1"></i> Nuevos
      </button>
      <button class="filter-chip px-6 py-2.5 bg-white rounded-full font-semibold text-sm whitespace-nowrap border-2 border-gray-200" data-filter="sale">
        <i class="fas fa-tags mr-1"></i> Ofertas
      </button>
      <button class="filter-chip px-6 py-2.5 bg-white rounded-full font-semibold text-sm whitespace-nowrap border-2 border-gray-200" data-filter="price-low">
        <i class="fas fa-arrow-down mr-1"></i> Menor Precio
      </button>
      <button class="filter-chip px-6 py-2.5 bg-white rounded-full font-semibold text-sm whitespace-nowrap border-2 border-gray-200" data-filter="price-high">
        <i class="fas fa-arrow-up mr-1"></i> Mayor Precio
      </button>
    </div>
  </section>

  <!-- SECCI√ìN DE PRODUCTOS -->
  <section id="productsSection" class="container mx-auto px-4 mb-12">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-3xl font-bold text-gray-800">Productos Destacados</h2>
      <div class="view-toggle">
        <button id="gridViewBtn" class="active" aria-label="Vista cuadr√≠cula">Cuadr√≠cula</button>
        <button id="listViewBtn" aria-label="Vista lista">Lista</button>
      </div>
    </div>
    <span id="productCount" class="text-gray-500 font-medium block mb-4">8 productos</span>
    <div id="productsGrid" class="grid-view"></div>
  </section>

  <!-- PRODUCTOS RELACIONADOS -->
  <section id="relatedSection" class="related-products" style="display: none;">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">
        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
        Tambi√©n te puede interesar
      </h2>
      <div id="relatedGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </div>
  </section>

  <!-- RECOMENDACIONES PERSONALIZADAS -->
  <section id="recommendedSection" class="container mx-auto px-4 mb-12" style="display: none;">
    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8">
      <div class="flex items-center gap-3 mb-6">
        <i class="fas fa-magic text-3xl text-purple-600"></i>
        <div>
          <h2 class="text-2xl font-bold text-gray-800">Recomendado para ti</h2>
          <p class="text-gray-600 text-sm">Basado en tu navegaci√≥n</p>
        </div>
      </div>
      <div id="recommendedGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </div>
  </section>
</main>

<!-- MODAL DE PRODUCTO -->
<div class="modal-overlay" id="productModal">
  <div class="modal-content">
    <div class="sticky top-0 bg-white z-10 p-4 border-b flex items-center justify-between">
      <h3 class="text-xl font-bold text-gray-800">Detalles del Producto</h3>
      <button id="closeModal" class="text-2xl text-gray-500 hover:text-[#e64d8c] transition" aria-label="Cerrar modal">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div id="modalBody" class="p-6"></div>
  </div>
</div>

	<!-- FOOTER -->
	<footer class="bg-gray-900 text-white py-12">
	  <div class="container mx-auto px-4 max-w-6xl">
		<div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
		  <!-- Columna 1: Logo + ¬øNecesitas ayuda? (sin cambios) -->
		  <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4">
			<img src="logo.png" alt="Logo Juanda Santiago" class="w-24 h-24 object-contain flex-shrink-0">
			<div class="flex-1 min-w-0">
			  <h3 class="text-xl font-bold mb-2 text-[#e64d8c]">¬øNECESITAS AYUDA?</h3>
			  <ul class="space-y-2">
				<li class="flex items-center gap-3 hover:text-[#e64d8c] transition-colors">
				  <i class="fas fa-phone"></i> <span>+57 300 779 9229</span>
				</li>
				<li class="flex items-center gap-3 hover:text-[#e64d8c] transition-colors">
				  <i class="fas fa-envelope"></i> <span>juandasantiago920@gmail.com</span>
				</li>
			  </ul>
			</div>
		  </div>

		  <!-- Columna 2: Informaci√≥n ‚Üí CENTRADA -->
		  <div class="text-center">
			<h3 class="text-xl font-bold mb-4 text-[#e64d8c]">INFORMACI√ìN</h3>
			<ul class="space-y-2 inline-block text-left">
			  <li><a href="#" class="hover:text-[#e64d8c] transition-colors" onclick="openModal('about'); return false;">Sobre Nosotros</a></li>
			  <li><a href="#" class="hover:text-[#e64d8c] transition-colors" onclick="openModal('terms'); return false;">T√©rminos y Condiciones</a></li>
			  <li><a href="#" class="hover:text-[#e64d8c] transition-colors" onclick="openModal('privacy'); return false;">Pol√≠tica de Privacidad</a></li>
			  <li><a href="#" class="hover:text-[#e64d8c] transition-colors" onclick="openModal('returns'); return false;">Pol√≠tica de Devoluciones</a></li>
			</ul>
		  </div>

		  <!-- Columna 3: S√≠guenos ‚Üí CENTRADA -->
		  <div class="text-center">
			<h3 class="text-xl font-bold mb-4 text-[#e64d8c]">S√çGUENOS</h3>
			<div class="flex justify-center gap-4">
			  <a href="https://www.facebook.com/share/1BszFj2UFK/" target="_blank" class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-all hover:scale-110">
				<i class="fab fa-facebook-f text-xl"></i>
			  </a>
			  <a href="https://www.instagram.com/juandasantiago920?igsh=MWZzcW16ZWh1d2l1cw==" target="_blank" class="w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full flex items-center justify-center hover:opacity-80 transition-all hover:scale-110">
				<i class="fab fa-instagram text-xl"></i>
			  </a>
			  <a href="https://www.tiktok.com/@juanda.santiago.9?_r=1&_t=ZS-93GY7NCRXW8" target="_blank" class="w-12 h-12 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-all hover:scale-110">
				<i class="fab fa-tiktok text-xl"></i>
			  </a>
			  <a href="https://wa.me/573007799229" target="_blank" class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center hover:bg-green-600 transition-all hover:scale-110">
				<i class="fab fa-whatsapp text-xl text-white"></i>
			  </a>
			</div>
		  </div>
		</div>
		<div class="border-t border-gray-700 pt-6 text-center">
		  <p>&copy; 2026 JUANDA SANTIAGO. Todos los Derechos Reservados.</p>
		</div>
	  </div>
	</footer>

	<!-- Asistente Virtual Mejorado - Estilo Coherente con Tu Marca -->
	<div id="chatbot-container" class="fixed bottom-6 right-6 z-50">
	  <!-- Bot√≥n flotante -->
	  <button id="open-chat" class="w-14 h-14 rounded-full bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white shadow-lg hover:from-[#d13a7a] hover:to-[#b88690] transition-all flex items-center justify-center text-xl animate-pulse"
		aria-label="Abrir chat de ayuda">
		üí¨
	  </button>

	  <!-- Ventana del chat -->
	  <div id="chat-window" class="hidden w-80 h-96 bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-gray-200">
		<!-- Cabecera con degradado -->
		<div class="bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white p-4 flex items-center gap-3">
		  <img src="logo.png" alt="Logo" class="w-10 h-10 rounded-full object-cover">
		  <div>
			<h4 class="font-bold">Juanda üëã</h4>
			<p class="text-xs opacity-90">Tu asistente personal</p>
		  </div>
		  <button id="close-chat" class="ml-auto text-white hover:text-gray-200 text-lg">√ó</button>
		</div>

		<!-- Mensajes -->
		<div id="chat-messages" class="flex-1 p-4 overflow-y-auto bg-gray-50 space-y-3">
		  <div class="bg-white p-3 rounded-2xl rounded-tr-none shadow-sm max-w-[85%] border border-gray-100">
			¬°Hola! üëã Soy Juanda, tu asistente virtual.  
			¬øEn qu√© puedo ayudarte hoy? Puedes preguntarme sobre:
			<ul class="mt-2 list-disc pl-4 text-sm text-gray-700">
			  <li>Productos disponibles</li>
			  <li>Precios o promociones</li>
			  <li>C√≥mo hacer un pedido</li>
			  <li>Contacto por WhatsApp</li>
			</ul>
		  </div>
		</div>

		<!-- Input -->
		<div class="p-3 border-t bg-white">
		  <div class="flex gap-2">
			<input type="text" id="user-input" placeholder="Escribe tu mensaje..." class="flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#e64d8c] focus:border-transparent">
			<button id="send-message" class="bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white w-10 h-10 rounded-full flex items-center justify-center hover:from-[#d13a7a] hover:to-[#b88690] transition shadow-md">
			  ‚û§
			</button>
		  </div>
		  <p class="text-xs text-gray-500 mt-2 text-center">
			Tambi√©n puedes escribirnos directamente por 
			<a href="https://wa.me/573007799229" target="_blank" class="text-[#25D366] font-medium hover:underline">WhatsApp</a>
		  </p>
		</div>
	  </div>
	</div>

	<style>
	  #chatbot-container {
		font-family: 'Segoe UI', system-ui, sans-serif;
	  }
	  .message-user {
		background: linear-gradient(to right, #e64d8c, #ca9ba3);
		color: white;
		margin-left: auto;
		border-radius: 16px 4px 16px 16px;
		box-shadow: 0 2px 6px rgba(230, 77, 140, 0.2);
	  }
	  .message-bot {
		background-color: white;
		color: #333;
		border: 1px solid #eee;
		border-radius: 4px 16px 16px 16px;
		box-shadow: 0 1px 4px rgba(0,0,0,0.05);
	  }
	  @keyframes fadeIn {
		from { opacity: 0; transform: translateY(10px); }
		to { opacity: 1; transform: translateY(0); }
	  }
	  .fade-in {
		animation: fadeIn 0.3s ease-out;
	  }
	</style>

	<script>
	  document.addEventListener('DOMContentLoaded', () => {
		const openBtn = document.getElementById('open-chat');
		const closeBtn = document.getElementById('close-chat');
		const chatWindow = document.getElementById('chat-window');
		const messagesContainer = document.getElementById('chat-messages');
		const userInput = document.getElementById('user-input');
		const sendBtn = document.getElementById('send-message');

		openBtn.addEventListener('click', () => {
		  chatWindow.classList.toggle('hidden');
		  if (!chatWindow.classList.contains('hidden')) {
			userInput.focus();
		  }
		});

		closeBtn.addEventListener('click', () => {
		  chatWindow.classList.add('hidden');
		});

		function sendMessage() {
		  const message = userInput.value.trim();
		  if (!message) return;

		  addMessage(message, 'user');
		  userInput.value = '';

		  setTimeout(() => {
			const response = generateResponse(message.toLowerCase());
			addMessage(response, 'bot');
		  }, 800);
		}

		sendBtn.addEventListener('click', sendMessage);
		userInput.addEventListener('keypress', (e) => {
		  if (e.key === 'Enter') sendMessage();
		});

		function addMessage(text, sender) {
		  const div = document.createElement('div');
		  div.classList.add('fade-in', 'p-3', 'rounded-2xl', 'max-w-[85%]', 'shadow-sm');
		  if (sender === 'user') {
			div.classList.add('message-user');
		  } else {
			div.classList.add('message-bot');
		  }
		  div.textContent = text;
		  messagesContainer.appendChild(div);
		  messagesContainer.scrollTop = messagesContainer.scrollHeight;
		}

		function generateResponse(input) {
		  if (input.includes('hola') || input.includes('hi') || input.includes('buenos')) {
			return '¬°Hola! üòä ¬øEn qu√© puedo ayudarte hoy?';
		  }
		  if (input.includes('producto') || input.includes('productos')) {
			return 'Tenemos una variedad de productos artesanales hechos con amor. ¬øTe gustar√≠a ver el cat√°logo? Puedes navegar por la tienda o escribirme qu√© buscas.';
		  }
		  if (input.includes('precio') || input.includes('cu√°nto') || input.includes('cuesta')) {
			return 'Los precios var√≠an seg√∫n el producto. Si me dices cu√°l te interesa, te doy todos los detalles. ¬°O puedes verlos directamente en la tienda!';
		  }
		  if (input.includes('pedido') || input.includes('comprar') || input.includes('orden')) {
			return '¬°Genial! Para hacer un pedido, solo navega por la tienda, elige lo que te guste y haz clic en "Comprar". Tambi√©n puedes contactarnos por WhatsApp para asistencia personalizada.';
		  }
		  if (input.includes('whatsapp') || input.includes('contacto')) {
			return '¬°Claro! Escr√≠benos por WhatsApp: https://wa.me/573007799229. Estamos encantados de atenderte. üí¨';
		  }
		  if (input.includes('gracias')) {
			return '¬°De nada! üíñ Cualquier cosa, aqu√≠ estoy.';
		  }
		  if (input.includes('adi√≥s') || input.includes('chao')) {
			return '¬°Hasta pronto! Que tengas un lindo d√≠a. üå∏';
		  }
		  return 'Entiendo... üòä Aunque soy un asistente virtual, har√© lo posible por ayudarte. ¬øPodr√≠as contarme m√°s? O si prefieres, escr√≠benos directamente por WhatsApp: https://wa.me/573007799229';
		}
	  });
	</script>

<!-- SCROLL TO TOP -->
<div class="scroll-to-top" id="scrollToTop" aria-label="Ir arriba">
  <i class="fas fa-arrow-up text-white text-xl"></i>
</div>

<script>
// === DATOS ===
let cart = [];
let currentSlide = 0;
let products = [];
let currentFilter = '';
let currentCategory = null;
let viewMode = 'grid';
let viewedProducts = [];
const promoMessages = [
  'üéâ ¬°ENV√çO GRATIS en compras mayores a $50.000! üöö',
  '‚≠ê ¬°Nuevos productos cada semana! üõçÔ∏è',
  'üí≥ M√∫ltiples m√©todos de pago disponibles üí∞',
  'üî• ¬°Ofertas especiales todos los d√≠as! üéÅ'
];
let currentPromoIndex = 0;

const sampleProducts = [
  { id: 1, name: 'Laptop HP 15"', price: 1500000, category: 'tecnologia', image: 'https://via.placeholder.com/300x300/667eea/ffffff?text=Laptop+HP', badge: 'new', description: 'Laptop HP con procesador Intel Core i5, 8GB RAM, 256GB SSD. Ideal para trabajo y estudio.' },
  { id: 2, name: 'Juego de S√°banas Premium', price: 80000, category: 'hogar', image: 'https://via.placeholder.com/300x300/764ba2/ffffff?text=Sabanas', badge: 'sale', description: 'Juego completo de s√°banas en algod√≥n 100%. Incluye s√°bana ajustable, plana y fundas.' },
  { id: 3, name: 'Pelota de F√∫tbol Profesional', price: 45000, category: 'deporte', image: 'https://via.placeholder.com/300x300/f093fb/ffffff?text=Pelota', badge: null, description: 'Bal√≥n profesional tama√±o oficial. Material sint√©tico de alta calidad.' },
  { id: 4, name: 'Set de Maquillaje Completo', price: 120000, category: 'belleza', image: 'https://via.placeholder.com/300x300/4facfe/ffffff?text=Maquillaje', badge: 'new', description: 'Kit completo con 24 piezas. Incluye sombras, labiales, brochas y m√°s.' },
  { id: 5, name: 'Tablet Samsung Galaxy', price: 800000, category: 'tecnologia', image: 'https://via.placeholder.com/300x300/00f2fe/ffffff?text=Tablet', badge: 'sale', description: 'Tablet Samsung de 10.1 pulgadas, 64GB almacenamiento, Android 13.' },
  { id: 6, name: 'Cuna para Beb√© Convertible', price: 350000, category: 'bebe', image: 'https://via.placeholder.com/300x300/43e97b/ffffff?text=Cuna', badge: null, description: 'Cuna 3 en 1 que se convierte en cama junior. Madera de pino certificada.' },
  { id: 7, name: 'Licuadora Oster 600W', price: 180000, category: 'electrodomesticos', image: 'https://via.placeholder.com/300x300/38f9d7/ffffff?text=Licuadora', badge: 'new', description: 'Licuadora de 600W con 3 velocidades y jarra de vidrio de 1.5L.' },
  { id: 8, name: 'Kit Escolar Completo', price: 55000, category: 'utiles', image: 'https://via.placeholder.com/300x300/fa709a/ffffff?text=Utiles', badge: null, description: 'Kit con todos los √∫tiles necesarios: cuadernos, l√°pices, colores y m√°s.' },
  { id: 9, name: 'Aud√≠fonos Bluetooth', price: 95000, category: 'tecnologia', image: 'https://via.placeholder.com/300x300/fee140/ffffff?text=Audifonos', badge: 'sale', description: 'Aud√≠fonos inal√°mbricos con cancelaci√≥n de ruido. Bater√≠a de 20 horas.' },
  { id: 10, name: 'Set de Toallas 6 Piezas', price: 65000, category: 'hogar', image: 'https://via.placeholder.com/300x300/f78fb3/ffffff?text=Toallas', badge: null, description: 'Set de toallas en algod√≥n turco. Incluye toallas de ba√±o, mano y facial.' },
  { id: 11, name: 'Bal√≥n Baloncesto Wilson', price: 52000, category: 'deporte', image: 'https://via.placeholder.com/300x300/ffaaa5/ffffff?text=Balon', badge: 'new', description: 'Bal√≥n oficial de baloncesto. Cuero sint√©tico de alta durabilidad.' },
  { id: 12, name: 'Crema Facial Anti-Edad', price: 75000, category: 'belleza', image: 'https://via.placeholder.com/300x300/ff8b94/ffffff?text=Crema', badge: 'sale', description: 'Crema facial con retinol y col√°geno. Reduce arrugas y l√≠neas de expresi√≥n.' }
];

const chatResponses = {
  "¬øC√≥mo comprar?": "Elige tus productos, agr√©galos al carrito y presiona 'Comprar por WhatsApp'. Te atenderemos de inmediato. üòä",
  "M√©todos de pago": "Aceptamos pago por Nequi, Daviplata, transferencia bancaria y efectivo contra entrega (seg√∫n ciudad). üí≥",
  "Tiempos de env√≠o": "Enviamos en 1-2 d√≠as h√°biles. El tiempo de entrega depende de tu ciudad (1-5 d√≠as). üöö",
  "Pol√≠ticas de devoluci√≥n": "Aceptamos devoluciones dentro de los 5 d√≠as posteriores a la recepci√≥n del producto, si est√° en perfecto estado. ‚úÖ"
};

// === INICIALIZACI√ìN ===
document.addEventListener('DOMContentLoaded', () => {
  loadCart();
  loadProducts();
  startSlider();
  setupEventListeners();
  rotatePromoBar();
  loadViewedProducts();
  showRecommendations();
});

// === FUNCIONES ===
function rotatePromoBar() {
  setInterval(() => {
    currentPromoIndex = (currentPromoIndex + 1) % promoMessages.length;
    const promoText = document.getElementById('promoText');
    promoText.style.opacity = '0';
    setTimeout(() => {
      promoText.textContent = promoMessages[currentPromoIndex];
      promoText.style.opacity = '1';
    }, 300);
  }, 4000);
}

function showNotification(message, type = 'success') {
  const container = document.getElementById('notificationContainer');
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  const icons = { success: 'fa-check-circle', info: 'fa-info-circle', warning: 'fa-exclamation-triangle' };
  const colors = { success: '#4caf50', info: '#2196f3', warning: '#ff9800' };
  notification.innerHTML = `
    <i class="fas ${icons[type]}" style="color: ${colors[type]}; font-size: 24px;"></i>
    <div class="flex-1">
      <p class="font-semibold text-gray-800">${message}</p>
    </div>
    <button class="text-gray-400 hover:text-gray-600">
      <i class="fas fa-times"></i>
    </button>
  `;
  container.appendChild(notification);
  setTimeout(() => notification.classList.add('show'), 100);
  const closeBtn = notification.querySelector('button');
  closeBtn.onclick = () => {
    notification.classList.remove('show');
    setTimeout(() => notification.remove(), 400);
  };
  setTimeout(() => {
    if (notification.parentNode) {
      notification.classList.remove('show');
      setTimeout(() => notification.remove(), 400);
    }
  }, 4000);
}

function trackView(productId) {
  if (!viewedProducts.includes(productId)) {
    viewedProducts.push(productId);
    if (viewedProducts.length > 10) viewedProducts.shift();
    localStorage.setItem('viewedProducts', JSON.stringify(viewedProducts));
  }
}

function loadViewedProducts() {
  const saved = localStorage.getItem('viewedProducts');
  if (saved) {
    try { viewedProducts = JSON.parse(saved); } catch (e) { viewedProducts = []; }
  }
}

function showRecommendations() {
  if (viewedProducts.length === 0) {
    document.getElementById('recommendedSection').style.display = 'none';
    return;
  }
  const viewedCategories = viewedProducts.map(id => {
    const p = sampleProducts.find(prod => prod.id === id);
    return p ? p.category : null;
  }).filter(Boolean);
  const categoryCount = {};
  viewedCategories.forEach(cat => {
    categoryCount[cat] = (categoryCount[cat] || 0) + 1;
  });
  const mostCommonCategory = Object.keys(categoryCount).reduce((a, b) => categoryCount[a] > categoryCount[b] ? a : b);
  const recommended = sampleProducts
    .filter(p => p.category === mostCommonCategory && !viewedProducts.includes(p.id))
    .slice(0, 4);
  if (recommended.length > 0) {
    document.getElementById('recommendedSection').style.display = 'block';
    const grid = document.getElementById('recommendedGrid');
    grid.innerHTML = recommended.map(product => `
      <div class="product-card bg-white rounded-xl overflow-hidden shadow-md relative" onclick="openProductModal(${product.id})">
        <span class="recommendation-badge"><i class="fas fa-magic mr-1"></i>Recomendado</span>
        ${product.badge ? `<span class="badge badge-${product.badge}">${product.badge === 'new' ? 'NUEVO' : 'OFERTA'}</span>` : ''}
        <div class="overflow-hidden image-zoom-container">
          <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover">
        </div>
        <div class="p-4">
          <h3 class="font-semibold text-lg mb-2 text-gray-800">${product.name}</h3>
          <p class="text-2xl font-bold text-[#e64d8c] mb-4">${product.price.toLocaleString('es-CO')}</p>
          <button onclick="event.stopPropagation(); addToCart(${product.id})" class="add-to-cart-btn w-full bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white py-2.5 rounded-lg hover:shadow-lg transition-all flex items-center justify-center gap-2 font-semibold">
            <i class="fas fa-cart-plus"></i> Agregar al Carrito
          </button>
        </div>
      </div>
    `).join('');
  } else {
    document.getElementById('recommendedSection').style.display = 'none';
  }
}

function openProductModal(productId) {
  const product = sampleProducts.find(p => p.id === productId);
  if (!product) return;
  trackView(productId);
  showRecommendations();
  const related = sampleProducts
    .filter(p => p.category === product.category && p.id !== productId)
    .slice(0, 4);
  const modal = document.getElementById('productModal');
  const modalBody = document.getElementById('modalBody');
  modalBody.innerHTML = `
    <div class="grid md:grid-cols-2 gap-8">
      <div>
        <div class="image-zoom-container rounded-xl overflow-hidden mb-4">
          <img src="${product.image}" alt="${product.name}" class="w-full h-auto">
        </div>
        <div class="flex gap-2">
          <img src="${product.image}" class="w-20 h-20 object-cover rounded-lg border-2 border-[#e64d8c] cursor-pointer">
          <img src="${product.image}" class="w-20 h-20 object-cover rounded-lg border-2 border-gray-200 cursor-pointer opacity-50">
          <img src="${product.image}" class="w-20 h-20 object-cover rounded-lg border-2 border-gray-200 cursor-pointer opacity-50">
        </div>
      </div>
      <div>
        ${product.badge ? `<span class="badge badge-${product.badge} position-static mb-3">${product.badge === 'new' ? 'NUEVO' : 'OFERTA'}</span>` : ''}
        <h2 class="text-3xl font-bold text-gray-800 mb-4">${product.name}</h2>
        <p class="text-4xl font-bold text-[#e64d8c] mb-6">${product.price.toLocaleString('es-CO')}</p>
        <div class="mb-6">
          <h3 class="font-bold text-lg mb-2">Descripci√≥n</h3>
          <p class="text-gray-600">${product.description}</p>
        </div>
        <div class="mb-6">
          <h3 class="font-bold text-lg mb-3">Caracter√≠sticas</h3>
          <ul class="space-y-2">
            <li class="flex items-center gap-2"><i class="fas fa-check text-green-500"></i> Garant√≠a de calidad</li>
            <li class="flex items-center gap-2"><i class="fas fa-check text-green-500"></i> Env√≠o r√°pido</li>
            <li class="flex items-center gap-2"><i class="fas fa-check text-green-500"></i> Soporte 24/7</li>
          </ul>
        </div>
        <div class="mb-6">
          <h3 class="font-bold text-lg mb-3">Compartir</h3>
          <div class="share-buttons">
            <button onclick="shareProduct('whatsapp', ${product.id})" class="share-btn bg-green-500 hover:bg-green-600">
              <i class="fab fa-whatsapp text-white"></i>
            </button>
            <button onclick="shareProduct('facebook', ${product.id})" class="share-btn bg-blue-600 hover:bg-blue-700">
              <i class="fab fa-facebook-f text-white"></i>
            </button>
            <button onclick="shareProduct('twitter', ${product.id})" class="share-btn bg-blue-400 hover:bg-blue-500">
              <i class="fab fa-twitter text-white"></i>
            </button>
            <button onclick="shareProduct('copy', ${product.id})" class="share-btn bg-gray-500 hover:bg-gray-600">
              <i class="fas fa-link text-white"></i>
            </button>
          </div>
        </div>
        <button onclick="addToCart(${product.id}); closeProductModal();" class="w-full bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white py-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center gap-2 font-bold text-lg">
          <i class="fas fa-cart-plus"></i> Agregar al Carrito
        </button>
      </div>
    </div>
    ${related.length > 0 ? `
      <div class="mt-12 pt-8 border-t">
        <h3 class="text-2xl font-bold mb-6">Productos Relacionados</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          ${related.map(p => `
            <div class="bg-white rounded-lg overflow-hidden shadow hover:shadow-lg transition cursor-pointer" onclick="openProductModal(${p.id})">
              <img src="${p.image}" alt="${p.name}" class="w-full h-40 object-cover">
              <div class="p-3">
                <h4 class="font-semibold text-sm mb-1">${p.name}</h4>
                <p class="text-[#e64d8c] font-bold">${p.price.toLocaleString('es-CO')}</p>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    ` : ''}
  `;
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeProductModal() {
  const modal = document.getElementById('productModal');
  modal.classList.remove('active');
  document.body.style.overflow = 'auto';
}

function shareProduct(platform, productId) {
  const product = sampleProducts.find(p => p.id === productId);
  if (!product) return;
  const url = window.location.href;
  const text = `¬°Mira este producto! ${product.name} - ${product.price.toLocaleString('es-CO')}`;
  const shareUrls = {
    whatsapp: `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`,
    facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,
    twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`,
  };
  if (platform === 'copy') {
    navigator.clipboard.writeText(url).then(() => {
      showNotification('Enlace copiado al portapapeles', 'success');
    });
  } else {
    window.open(shareUrls[platform], '_blank', 'width=600,height=400');
    showNotification(`Compartiendo en ${platform}`, 'info');
  }
}

function loadCart() {
  const saved = localStorage.getItem('cart');
  if (saved) {
    try { cart = JSON.parse(saved); } catch (e) { cart = []; }
  }
  updateCartUI();
}

function saveCart() {
  localStorage.setItem('cart', JSON.stringify(cart));
}

function loadProducts(category = null) {
  let filtered = category ? sampleProducts.filter(p => p.category === category) : [...sampleProducts];
  if (currentFilter === 'new') {
    filtered = filtered.filter(p => p.badge === 'new');
  } else if (currentFilter === 'sale') {
    filtered = filtered.filter(p => p.badge === 'sale');
  } else if (currentFilter === 'price-low') {
    filtered.sort((a, b) => a.price - b.price);
  } else if (currentFilter === 'price-high') {
    filtered.sort((a, b) => b.price - a.price);
  }
  products = filtered;
  currentCategory = category;
  const grid = document.getElementById('productsGrid');
  const countEl = document.getElementById('productCount');
  if (products.length === 0) {
    grid.innerHTML = '<div class="col-span-full text-center py-12"><i class="fas fa-search text-6xl text-gray-300 mb-4"></i><p class="text-gray-500 text-lg">No se encontraron productos</p></div>';
    countEl.textContent = '0 productos';
    return;
  }
  countEl.textContent = `${products.length} producto${products.length !== 1 ? 's' : ''}`;
  grid.className = viewMode === 'grid' ? 'grid-view' : 'list-view';
  grid.innerHTML = products.map(product => `
    <div class="product-card bg-white rounded-xl overflow-hidden shadow-md relative" onclick="openProductModal(${product.id})">
      ${product.badge ? `<span class="badge badge-${product.badge}">${product.badge === 'new' ? 'NUEVO' : 'OFERTA'}</span>` : ''}
      <div class="overflow-hidden image-zoom-container">
        <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover">
      </div>
      <div class="p-4">
        <h3 class="font-semibold text-lg mb-2 text-gray-800">${product.name}</h3>
        <p class="text-2xl font-bold text-[#e64d8c] mb-4">${product.price.toLocaleString('es-CO')}</p>
        <button onclick="event.stopPropagation(); addToCart(${product.id})" class="add-to-cart-btn w-full bg-gradient-to-r from-[#e64d8c] to-[#ca9ba3] text-white py-2.5 rounded-lg hover:shadow-lg transition-all flex items-center justify-center gap-2 font-semibold">
          <i class="fas fa-cart-plus"></i> Agregar al Carrito
        </button>
      </div>
    </div>
  `).join('');
}

function addToCart(productId) {
  const product = sampleProducts.find(p => p.id === productId);
  if (!product) return;
  const existingItem = cart.find(item => item.id === productId);
  if (existingItem) {
    existingItem.quantity++;
  } else {
    cart.push({ ...product, quantity: 1 });
  }
  saveCart();
  updateCartUI();
  showNotification('¬°Producto agregado al carrito!', 'success');
}

function updateCartUI() {
  const count = cart.reduce((sum, item) => sum + item.quantity, 0);
  const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
  document.getElementById('cartCount').textContent = count;
  document.getElementById('cartItemCount').textContent = count;
  document.getElementById('cartTotal').textContent = total.toLocaleString('es-CO');
  document.getElementById('cartSubtotal').textContent = total.toLocaleString('es-CO');
  const cartItems = document.getElementById('cartItems');
  if (cart.length === 0) {
    cartItems.innerHTML = `
      <div class="text-center py-12">
        <i class="fas fa-shopping-cart empty-cart-icon"></i>
        <p class="text-gray-500 mt-4 text-lg">Tu carrito est√° vac√≠o</p>
        <p class="text-gray-400 text-sm mt-2">¬°Agrega productos para comenzar!</p>
      </div>
    `;
  } else {
    cartItems.innerHTML = cart.map(item => `
      <div class="flex gap-4 mb-4 pb-4 border-b">
        <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-lg shadow">
        <div class="flex-1">
          <h4 class="font-semibold text-gray-800">${item.name}</h4>
          <p class="text-[#e64d8c] font-bold text-lg">${item.price.toLocaleString('es-CO')}</p>
          <div class="flex items-center gap-3 mt-2">
            <button onclick="updateQuantity(${item.id}, -1)" class="w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition font-bold" aria-label="Disminuir cantidad">-</button>
            <span class="font-semibold text-lg w-8 text-center">${item.quantity}</span>
            <button onclick="updateQuantity(${item.id}, 1)" class="w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition font-bold" aria-label="Aumentar cantidad">+</button>
            <button onclick="removeFromCart(${item.id})" class="ml-auto text-red-500 hover:text-red-700 transition" aria-label="Eliminar producto">
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
        </div>
      </div>
    `).join('');
  }
}

function updateQuantity(productId, change) {
  const item = cart.find(i => i.id === productId);
  if (item) {
    item.quantity += change;
    if (item.quantity <= 0) {
      removeFromCart(productId);
    } else {
      saveCart();
      updateCartUI();
    }
  }
}

function removeFromCart(productId) {
  cart = cart.filter(item => item.id !== productId);
  saveCart();
  updateCartUI();
  showToast('Producto eliminado del carrito');
}

function clearCart() {
  if (cart.length === 0) return;
  if (confirm('¬øEst√°s seguro de vaciar el carrito?')) {
    cart = [];
    saveCart();
    updateCartUI();
    showToast('Carrito vaciado');
  }
}

function showToast(message) {
  const toast = document.getElementById('toast');
  toast.querySelector('span').textContent = message;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 3000);
}

function startSlider() {
  const slides = document.querySelectorAll('.slide');
  const dots = document.querySelectorAll('.dot');
  function showSlide(n) {
    slides.forEach(slide => slide.classList.remove('active'));
    dots.forEach(dot => dot.classList.remove('active'));
    currentSlide = (n + slides.length) % slides.length;
    slides[currentSlide].classList.add('active');
    dots[currentSlide].classList.add('active');
  }
  dots.forEach(dot => {
    dot.addEventListener('click', () => showSlide(parseInt(dot.dataset.slide)));
  });
  setInterval(() => showSlide(currentSlide + 1), 5000);
}

function setupEventListeners() {
  // Scroll header y bot√≥n arriba
  const header = document.getElementById('header');
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
    const scrollBtn = document.getElementById('scrollToTop');
    if (window.scrollY > 300) scrollBtn.classList.add('show');
    else scrollBtn.classList.remove('show');
  });
  document.getElementById('scrollToTop').addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  // Men√∫ lateral
  document.getElementById('menuBtn').addEventListener('click', () => {
    document.getElementById('menuSidebar').classList.add('active');
    document.getElementById('menuOverlay').classList.add('active');
  });
  const closeMenu = () => {
    document.getElementById('menuSidebar').classList.remove('active');
    document.getElementById('menuOverlay').classList.remove('active');
  };
  document.getElementById('closeMenu').addEventListener('click', closeMenu);

  // Categor√≠as
  document.querySelectorAll('[data-category]').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const category = e.currentTarget.dataset.category;
      loadProducts(category || null);
      closeMenu();
      document.getElementById('productsSection').scrollIntoView({ behavior: 'smooth' });
    });
  });

  // Carrito
  document.getElementById('cartBtn').addEventListener('click', () => {
    document.getElementById('cartSidebar').classList.add('active');
    document.getElementById('menuOverlay').classList.add('active');
  });
  const closeCart = () => {
    document.getElementById('cartSidebar').classList.remove('active');
    document.getElementById('menuOverlay').classList.remove('active');
  };
  document.getElementById('closeCart').addEventListener('click', closeCart);
  document.getElementById('menuOverlay').addEventListener('click', () => {
    closeCart(); closeMenu();
  });

  // Filtros
  document.querySelectorAll('.filter-chip').forEach(chip => {
    chip.addEventListener('click', (e) => {
      document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
      e.currentTarget.classList.add('active');
      currentFilter = e.currentTarget.dataset.filter;
      loadProducts(currentCategory);
    });
  });

  // B√∫squeda
  const setupSearch = (inputId) => {
    const input = document.getElementById(inputId);
    if (!input) return;
    let timeout;
    input.addEventListener('input', (e) => {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        const query = e.target.value.toLowerCase().trim();
        if (query === '') {
          loadProducts(currentCategory);
          return;
        }
        const base = currentCategory ? sampleProducts.filter(p => p.category === currentCategory) : sampleProducts;
        products = base.filter(p => p.name.toLowerCase().includes(query));
        const grid = document.getElementById('productsGrid');
        const countEl = document.getElementById('productCount');
        if (products.length === 0) {
          grid.innerHTML = '<div class="col-span-full text-center py-12"><i class="fas fa-search text-6xl text-gray-300 mb-4"></i><p class="text-gray-500 text-lg">No se encontraron productos</p></div>';
          countEl.textContent = '0 productos';
        } else {
          countEl.textContent = `${products.length} producto${products.length !== 1 ? 's' : ''}`;
          loadProducts(currentCategory);
        }
      }, 300);
    });
  };
  setupSearch('searchInput');
  setupSearch('mobileSearchInput');

  // Vista toggle
  document.getElementById('gridViewBtn').addEventListener('click', () => {
    viewMode = 'grid';
    document.getElementById('gridViewBtn').classList.add('active');
    document.getElementById('listViewBtn').classList.remove('active');
    loadProducts(currentCategory);
  });
  document.getElementById('listViewBtn').addEventListener('click', () => {
    viewMode = 'list';
    document.getElementById('listViewBtn').classList.add('active');
    document.getElementById('gridViewBtn').classList.remove('active');
    loadProducts(currentCategory);
  });

  // Carrito acciones
  document.getElementById('clearCartBtn').addEventListener('click', clearCart);
  document.getElementById('checkoutBtn').addEventListener('click', () => {
    if (cart.length === 0) {
      showToast('Tu carrito est√° vac√≠o');
      return;
    }
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    let message = '¬°Hola! Quiero hacer un pedido:%0A%0A';
    cart.forEach(item => {
      message += `‚úÖ ${item.name}%0A`;
      message += `   Cantidad: ${item.quantity}%0A`;
      message += `   Precio: ${item.price.toLocaleString('es-CO')}%0A%0A`;
    });
    message += `üí∞ *TOTAL: ${total.toLocaleString('es-CO')}*%0A%0A`;
    message += '¬øPodr√≠an confirmar disponibilidad?';
    window.open(`https://wa.me/573007799229?text=${message}`, '_blank');
  });

  // Modal cerrar
  document.getElementById('closeModal').addEventListener('click', closeProductModal);
  document.getElementById('productModal').addEventListener('click', (e) => {
    if (e.target === document.getElementById('productModal')) closeProductModal();
  });
}
</script>
<!-- Modal contenedor mejorado -->
<div id="modal" style="
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  overflow: auto;
  padding: 20px;
  box-sizing: border-box;
">
  <div style="
    background-color: white;
    margin: 40px auto;
    padding: 30px;
    border-radius: 12px;
    width: 90%;
    max-width: 750px;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    color: #333;
  ">
    <button onclick="closeModal()" style="
      position: absolute;
      top: 12px;
      right: 16px;
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: #e64d8c;
      font-weight: bold;
      padding: 4px;
      border-radius: 50%;
      transition: background 0.2s;
    ">&times;</button>

    <div id="modal-content"></div>
  </div>
</div>

<!-- Contenidos ocultos (mejorados visualmente) -->
<script type="text/template" id="content-about">
  <h2 style="color: #e64d8c; margin-top: 0; font-size: 28px; border-bottom: 2px solid #f5f5f5; padding-bottom: 12px;">Sobre Nosotros</h2>
  <p><strong>JUANDASANTIAGO</strong> nace del amor por ofrecer productos de calidad, hechos con dedicaci√≥n y pensados para mejorar tu d√≠a a d√≠a.</p>
  <p>Somos un emprendimiento familiar con sede en Colombia, comprometido con la satisfacci√≥n de nuestros clientes, la transparencia en cada transacci√≥n y el cuidado en cada detalle.</p>
  <p>Nos especializamos en una amplia variedad de categor√≠as: hogar, tecnolog√≠a, moda, jugueter√≠a, belleza, √∫tiles escolares y mucho m√°s. Trabajamos directamente con proveedores confiables y artesanos locales para traerte lo mejor al mejor precio.</p>
  <p style="margin-bottom: 0;"><strong>¬°Porque para nosotros, t√∫ no eres solo un cliente‚Ä¶ eres parte de nuestra historia!</strong></p>
</script>

<script type="text/template" id="content-terms">
  <h2 style="color: #e64d8c; margin-top: 0; font-size: 28px; border-bottom: 2px solid #f5f5f5; padding-bottom: 12px;">T√©rminos y Condiciones</h2>
  <p>Al utilizar la tienda virtual <strong>JUANDASANTIAGO</strong>, aceptas los siguientes t√©rminos:</p>
  <ol style="padding-left: 20px;">
    <li><strong>Uso del sitio</strong>: Este sitio web est√° destinado exclusivamente a personas mayores de 18 a√±os o menores con autorizaci√≥n de sus padres/tutores.</li>
    <li><strong>Precios y disponibilidad</strong>: Los precios publicados est√°n en pesos colombianos (COP) e incluyen IVA. Est√°n sujetos a cambios sin previo aviso.</li>
    <li><strong>Formas de pago</strong>: Aceptamos Nequi, Daviplata, transferencia bancaria y efectivo contra entrega (seg√∫n ciudad).</li>
    <li><strong>Env√≠os</strong>: Realizamos env√≠os a todo Colombia. Tiempo de entrega: 1 a 5 d√≠as h√°biles. ¬°Env√≠o gratis en compras superiores a $50.000 COP!</li>
    <li><strong>Responsabilidad</strong>: Nos comprometemos a entregar productos en √≥ptimas condiciones. No somos responsables por errores en la direcci√≥n proporcionada por el cliente.</li>
    <li><strong>Modificaciones</strong>: Nos reservamos el derecho de actualizar estos t√©rminos en cualquier momento.</li>
  </ol>
</script>

<script type="text/template" id="content-privacy">
  <h2 style="color: #e64d8c; margin-top: 0; font-size: 28px; border-bottom: 2px solid #f5f5f5; padding-bottom: 12px;">Pol√≠tica de Privacidad</h2>
  <p>En <strong>JUANDASANTIAGO</strong> protegemos tus datos personales conforme a la <strong>Ley 1581 de 2012</strong> de Colombia.</p>
  <ol style="padding-left: 20px;">
    <li><strong>Finalidad</strong>: Tus datos (nombre, tel√©fono, direcci√≥n, correo) se usan para:
      <ul style="padding-left: 20px; margin-top: 6px;">
        <li>Procesar tus pedidos</li>
        <li>Brindarte atenci√≥n personalizada</li>
        <li>Enviar promociones (solo si aceptas)</li>
      </ul>
    </li>
    <li><strong>Confidencialidad</strong>: No compartimos tus datos con terceros, salvo por obligaci√≥n legal o log√≠stica (ej. empresa de env√≠os).</li>
    <li><strong>Tus derechos</strong>: Puedes:
      <ul style="padding-left: 20px; margin-top: 6px;">
        <li>Acceder, corregir o eliminar tus datos</li>
        <li>Revocar tu consentimiento en cualquier momento</li>
      </ul>
      Escr√≠benos a: <strong>juandasantiago920@gmail.com</strong>
    </li>
    <li><strong>Seguridad</strong>: Usamos medidas t√©cnicas para proteger tu informaci√≥n contra accesos no autorizados.</li>
  </ol>
</script>

<script type="text/template" id="content-returns">
  <h2 style="color: #e64d8c; margin-top: 0; font-size: 28px; border-bottom: 2px solid #f5f5f5; padding-bottom: 12px;">Pol√≠tica de Devoluciones</h2>
  <p>De acuerdo con el <strong>Estatuto del Consumidor (Ley 1480 de 2011)</strong>, tienes derecho a devolver o cambiar tu compra.</p>
  <ol style="padding-left: 20px;">
    <li><strong>Plazo</strong>: 5 d√≠as h√°biles desde la recepci√≥n del producto.</li>
    <li><strong>Condiciones</strong>:
      <ul style="padding-left: 20px; margin-top: 6px;">
        <li>Producto sin uso, con empaque original y accesorios</li>
        <li>Factura o comprobante de compra</li>
      </ul>
    </li>
    <li><strong>No aplica</strong> para: productos de belleza, ropa interior, juguetes usados o art√≠culos personalizados.</li>
    <li><strong>¬øC√≥mo solicitarla?</strong>
      <ul style="padding-left: 20px; margin-top: 6px;">
        <li>Cont√°ctanos por WhatsApp: <strong>+57 300 779 9229</strong></li>
        <li>O por correo: <strong>juandasantiago920@gmail.com</strong></li>
        <li>Si es aprobada, coordinamos la recolecci√≥n sin costo</li>
      </ul>
    </li>
    <li><strong>Errores o da√±os</strong>: Si recibes un producto equivocado o da√±ado, asumimos 100% de los costos.</li>
  </ol>
</script>

<!-- Script actualizado (igual, pero m√°s limpio) -->
<script>
  function openModal(section) {
    const template = document.getElementById(`content-${section}`);
    if (!template) return;
    document.getElementById('modal-content').innerHTML = template.innerHTML;
    document.getElementById('modal').style.display = 'block';
    document.body.style.overflow = 'hidden'; // Evita scroll del fondo
  }

  function closeModal() {
    document.getElementById('modal').style.display = 'none';
    document.body.style.overflow = ''; // Restaura scroll
  }

  window.onclick = function(event) {
    const modal = document.getElementById('modal');
    if (event.target === modal) closeModal();
  };

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeModal();
  });
</script>
</body>
</html>
